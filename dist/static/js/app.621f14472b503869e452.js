webpackJsonp([1],{0:function(t,a){},"7zck":function(t,a){},Fggt:function(t,a){},JfAZ:function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("7+uW"),o=e("8+8L"),n=e("3EgV"),r=e.n(n),i=(e("7zck"),{render:function(){var t=this.$createElement,a=this._self._c||t;return a("v-app",[a("div",{staticClass:"chat-column"},[a("v-content",[a("router-view")],1)],1)])},staticRenderFns:[]});var c=e("VU/8")({data:function(){return{}},name:"App"},i,!1,function(t){e("nwYA")},null,null).exports,u=e("/ocq"),l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-container",{attrs:{fluid:"","grid-list-md":"","text-xs-center":""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{staticStyle:{width:"170px"},attrs:{xs2:""}},[e("img",{attrs:{src:"static/robot.jpg",width:"160",height:"160"}})]),t._v(" "),e("v-flex",{attrs:{xs10:""}},[e("p",{staticClass:"ola-menu",staticStyle:{"line-height":"1.1"}},[t._v('"Bem vindo ao chatbot do SigQuali.'),e("br"),t._v('Para começar, em qual módulo posso ajudá-lo?"')])]),t._v(" "),t._l(t.items,function(a){return e("v-flex",{key:a.assunto,attrs:{xs3:""}},[e("v-card",{staticClass:"rounded-card",attrs:{color:"white"}},[e("v-btn",{staticClass:"itemMenu rounded-card",on:{click:function(e){t.acessoChat(a.assunto)}}},[e("span",{staticStyle:{"margin-right":"10%","margin-left":"10%","white-space":"normal"}},[t._v(t._s(a.text))])])],1)],1)}),t._v(" "),e("v-flex",{attrs:{xs12:""}},[e("v-card",{staticClass:"rounded-card",attrs:{color:"white"}},[e("v-btn",{staticClass:"itemMenu itemMenu-apoio rounded-card",on:{click:function(a){t.acessoChat("Apoio")}}},[t._v("Apoio")])],1)],1)],2)],1)],1)},staticRenderFns:[]};var p=e("VU/8")({data:function(){return{items:[{text:"Indicadores",assunto:"Indicadores"},{text:"Análises Críticas",assunto:"Análise Crítica"},{text:"Ações e Projetos",assunto:"Ações e Projetos"},{text:"Não Conformidade",assunto:"Não Conformidade"},{text:"Documentos",assunto:"Documentos"},{text:"Estratégia e Painéis de Controle",assunto:"Estratégia - BSC"},{text:"Matriz de Risco",assunto:"Matriz de Risco"},{text:"Mapa de Processos",assunto:"Mapa de processos"}]}},methods:{acessoChat:function(t){this.$router.push({name:"chat",params:{assunto:t}})}}},l,!1,function(t){e("JfAZ")},"data-v-0b4c6ddc",null).exports,d=e("Xxa5"),m=e.n(d),h=e("exGp"),v=e.n(h),f=e("j93a"),x=e.n(f),g=e("7t+N"),w=e.n(g);window.$=window.jQuery=w.a,e("DBzq");var _={name:"my-component",components:{Nl2br:x.a},data:function(){return{img:"-webkit-linear-gradient(top, #1FB5AD, #1FB5AD 10%, transparent 10%, transparent 100%) !important;",parametro:null,text:null,context:null,iteracoes:[],itemIteracao:{respostas:[],perguntas:[],opcoes:[],iteracao:null}}},mounted:function(){$("#chat .conversation-list").slimscroll({height:"65vh",start:"bottom",wheelStep:2,animate:!0}),this.iteracaoUsuario(this.$route.params.assunto)},watch:{iteracoes:function(t){var a=this;setTimeout(function(){a.atualizaScroll()},500)}},methods:{atualizaScroll:function(){this.$refs.painelChat.scrollTo({top:9999999,behavior:"smooth"}),setTimeout(function(){$("#chat .conversation-list").slimScroll({scrollTo:1e3*$("#chat .conversation-list li").length,animate:!0})},500)},perguntaUsuario:function(){this.iteracaoUsuario(this.parametro),this.parametro=null},iteracaoUsuario:function(t){var a={respostas:[],perguntas:[],opcoes:[],iteracao:t,showImg:!0};this.iteracoes.push(a);var e=this;setTimeout(v()(m.a.mark(function s(){return m.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.iteracao(t,e.context);case 2:a.showImg=!1,a.iteracao=null;case 4:case"end":return s.stop()}},s,this)})),2e3)},iteracao:function(t,a){var e=this;return v()(m.a.mark(function s(){var o,n,r,i,c;return m.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return o=null!=a&&!!a.agentCounter,null==a||o||(a.agentCounter=0),e.parametro=null,e.itemIteracao={respostas:[],perguntas:[],opcoes:[],iteracao:t,showImg:!1},s.next=6,e.$http.post("conversation",{text:t,context:a}).then(function(t){return t.json()});case 6:return s.next=8,s.sent;case 8:n=s.sent,e.context=n.context,r=e,i=!(0==n.output.generic.filter(function(t){return t.options}).length),c=n.output.generic.filter(function(t){return"text"===t.response_type}),n.output.generic.forEach(function(t){if("text"===t.response_type){var a={resposta:t.text};r.itemIteracao.showImg=c&&i,r.itemIteracao.respostas.push(a)}else r.itemIteracao.perguntas.push(t.title),t.options.forEach(function(t){var a={label:t.label,value:t.value.input.text};r.itemIteracao.opcoes.push(a)});r.itemIteracao.showImg&&setTimeout(function(){r.itemIteracao.showImg=!1,r.atualizaScroll()},4e3)}),r.iteracoes.push(e.itemIteracao);case 15:case"end":return s.stop()}},s,e)}))()}}},C={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{height:"100%"}},[e("v-flex",{staticClass:"cabecalho-chat",attrs:{xs12:""}},[e("v-btn",{staticClass:"botao-voltar rounded-card",attrs:{to:"/"}},[e("p",{staticStyle:{"margin-top":"5px"}},[t._v("VOLTAR PARA O MENU")])])],1),t._v(" "),e("div",{attrs:{id:"chat"}},[e("ul",{ref:"painelChat",staticClass:"conversation-list",attrs:{id:"painelChat"}},t._l(t.iteracoes,function(a,s){return e("li",{key:"iteracao"+s},[e("v-container",{class:{removida:!a.iteracao},staticStyle:{"padding-bottom":"15px","padding-top":"20px"},attrs:{fluid:"","grid-list-md":"","text-xs-left":""}},[e("v-layout",{attrs:{row:"",wrap:""}},[a.iteracao?e("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[e("div",{staticClass:"rounded-card tamanho-card v-card gray--text usuario"},[t._v("\n                "+t._s(a.iteracao)+"\n                ")])]):t._e(),t._v(" "),t._l(a.respostas,function(a,s){return e("v-flex",{key:"item"+s,staticStyle:{"padding-bottom":"3px","max-width":"75%"},attrs:{xs12:""}},[e("v-layout",{attrs:{row:""}},[e("img",{staticClass:"img-robo",attrs:{src:"static/robot.jpg",width:"40",height:"40"}}),t._v(" "),e("div",{staticClass:"rounded-card tamanho-card v-card white--text pergunta"},[e("nl2br",{attrs:{tag:"p",text:a.resposta}})],1)])],1)}),t._v(" "),a.showImg?e("v-flex",{staticStyle:{"max-width":"75%"},attrs:{xs12:""}},[e("div",{staticClass:"rounded-card tamanho-card v-card white--text pergunta",staticStyle:{"line-height":"0"}},[e("img",{staticClass:"img-load",attrs:{src:"static/iphone-text-dots-gif-3.gif"}})])]):t._e(),t._v(" "),t._l(a.perguntas,function(s,o){return a.showImg?t._e():e("v-flex",{key:"pergunta"+o,staticStyle:{"padding-bottom":"8px","padding-top":"8px","max-width":"75%"},attrs:{xs12:""}},[e("v-layout",{attrs:{row:""}},[e("img",{staticClass:"img-robo",attrs:{src:"static/robot.jpg",width:"40",height:"40"}}),t._v(" "),e("div",{staticClass:"rounded-card tamanho-card v-card white--text pergunta"},[e("nl2br",{attrs:{tag:"p",text:s}})],1)])],1)}),t._v(" "),t._l(a.opcoes,function(s,o){return a.showImg?t._e():e("v-flex",{key:"opcao"+o,staticStyle:{padding:"0 0","min-width":"75%"},attrs:{xs12:""}},[e("span",{staticStyle:{"justify-content":"left"}},[e("v-btn",{staticClass:"opcao rounded-card text-xs-left",on:{click:function(a){t.iteracaoUsuario(s.value)}}},[t._v(t._s(s.label))])],1)])})],2)],1)],1)}),0)]),t._v(" "),e("label",{staticClass:"inputOutline",attrs:{for:"textInput"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.parametro,expression:"parametro"}],staticClass:"input",attrs:{id:"textInput",size:"105",autofocus:"",placeholder:"Digite sua mensagem...",type:"text"},domProps:{value:t.parametro},on:{keyup:function(a){return"button"in a||!t._k(a.keyCode,"enter",13,a.key,"Enter")?t.perguntaUsuario(a):null},input:function(a){a.target.composing||(t.parametro=a.target.value)}}})])],1)},staticRenderFns:[]};var y=e("VU/8")(_,C,!1,function(t){e("Fggt")},"data-v-1d7493e3",null).exports;s.default.use(u.a);var b=new u.a({routes:[{path:"/",name:"MenuChat",component:p},{path:"chat",name:"chat",component:y}]});s.default.use(r.a),s.default.use(o.a),s.default.config.productionTip=!1,s.default.router=b,s.default.http.options.root="https://kkmaejd863.execute-api.us-east-1.amazonaws.com/dev",new s.default({el:"#app",router:b,components:{App:c},template:"<App/>"})},nwYA:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.621f14472b503869e452.js.map